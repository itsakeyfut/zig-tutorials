# 3. 基本的な型

このチュートリアルでは、Zigにおける基本的なデータ型について学びます。

## 概要

- 整数型（符号付き・符号なし）
- 任意サイズの整数（Zigの特殊機能）
- 浮動小数点型
- bool と文字

## 整数型

### 符号付き整数

```zig
pub fn main() void {
    // 符号付き整数
    const i8_val: i8 = -128;
    const i16_val: i16 = -32768;
    const i32_val: i32 = -2147483648;
    const i64_val: i64 = -9223372036854775808;
}
```

**範囲:**
- `i8`: -128 〜 127
- `i16`: -32768 〜 32767
- `i32`: -2147483648 〜 2147483647
- `i64`: -9223372036854775808 〜 9223372036854775807

### 符号なし整数

```zig
pub fn main() void {
    // 符号なし整数
    const u8_val: u8 = 255;
    const u16_val: u16 = 65535;
    const u32_val: u32 = 4294967295;
    const u64_val: u64 = 18446744073709551615;
}
```

**範囲:**
- `u8`: 0 〜 255
- `u16`: 0 〜 65535
- `u32`: 0 〜 4294967295
- `u64`: 0 〜 18446744073709551615

### 任意サイズの整数（Zigの特殊機能）

Zigでは、任意のビット幅の整数を定義できます。これはRustにはない機能です。

```zig
pub fn main() void {
    // 任意サイズの整数
    const i3_val: i3 = -4;  // -4 から 3
    const u7_val: u7 = 127; // 0 から 127
}
```

**ポイント:**
- `i3`: 3ビット符号付き整数（-4 〜 3）
- `u7`: 7ビット符号なし整数（0 〜 127）
- メモリ効率的なデータ構造を設計可能

### ポインタサイズの整数

```zig
pub fn main() void {
    // ポインタサイズ
    const isize_val: isize = -100;
    const usize_val: usize = 100;
}
```

**ポイント:**
- `isize`/`usize`: プラットフォームのポインタサイズに合わせた整数型
- 配列のインデックスなどに使用

## 浮動小数点型

```zig
pub fn main() void {
    const f32_val: f32 = 3.14;
    const f64_val: f64 = 3.141592653589793;

    // 型推論ではf64
    const pi = 3.14;
}
```

**ポイント:**
- `f32`: 単精度浮動小数点（32ビット）
- `f64`: 倍精度浮動小数点（64ビット）
- リテラルの型推論はデフォルトで `f64`

## bool と文字

```zig
pub fn main() void {
    const flag: bool = true;
    const letter: u8 = 'A';  // ASCII文字

    // Zigには文字型がない（u8を使う）
}
```

**ポイント:**
- `bool`: `true` または `false`
- 文字は単に `u8`（ASCII）
- Zigには専用の文字型がない

## Rustとの違い

| 型 | Rust | Zig |
|----|------|-----|
| 文字 | `char` (Unicode) | `u8` (ASCII) |
| 文字列 | `String`, `&str` | `[]const u8` |
| サイズ指定整数 | `i8`, `i16`, `i32` | `i8`, `i16`, `i32` |
| 任意サイズ | なし | `i3`, `u7`など |

**主な違い:**

1. **文字型**
   - Rust: `char` は Unicode スカラー値（4バイト）
   - Zig: 専用の文字型はなく、`u8` を使用

2. **任意サイズ整数**
   - Rust: サポートなし
   - Zig: `i1` 〜 `i65535`, `u1` 〜 `u65535` まで自由に定義可能

3. **文字列**
   - Rust: `String` (所有), `&str` (借用)
   - Zig: `[]const u8` (UTF-8バイト列)

## 学習ポイント

1. **Zigは任意ビット幅の整数をサポート**
   - メモリ効率的なデータ構造を設計可能
   - 例: `i3`, `u7`, `i24` など

2. **文字は単に `u8`**
   - 専用の文字型がない
   - UTF-8 エンコーディングを直接扱う

3. **型推論は保守的**
   - 整数リテラルは `i32`
   - 浮動小数点リテラルは `f64`
   - 安全側に倒す設計

## 実行方法

```bash
# ビルドして実行
zig build run

# または直接実行
zig run src/main.zig
```

## 期待される出力

```
=== Zigの基本的な型 ===

1. 整数型
  符号付き整数:
    i8:  -128 (範囲: -128 〜 127)
    i16: -32768 (範囲: -32768 〜 32767)
    i32: -2147483648 (範囲: -2147483648 〜 2147483647)
    i64: -9223372036854775808 (範囲: -9223372036854775808 〜 9223372036854775807)
  符号なし整数:
    u8:  255 (範囲: 0 〜 255)
    u16: 65535 (範囲: 0 〜 65535)
    u32: 4294967295 (範囲: 0 〜 4294967295)
    u64: 18446744073709551615 (範囲: 0 〜 18446744073709551615)
  任意サイズの整数:
    i3: -4 (範囲: -4 〜 3)
    u7: 127 (範囲: 0 〜 127)
  ポインタサイズの整数:
    isize: -100
    usize: 100

2. 浮動小数点型
  f32: 3.14 (単精度浮動小数点)
  f64: 3.141592653589793 (倍精度浮動小数点)
  型推論: 3.14 (デフォルトは f64)

3. bool と文字
  bool: true
  文字 (u8): 65 (ASCII コード: 65)
  注意: Zigには専用の文字型がなく、u8を使用します
```
